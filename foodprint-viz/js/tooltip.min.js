/*! project-name v0.0.1 | (c) 2020 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
function showTooltip(t){const e=getFoodprint(t.id);d3.select("#tooltip .tooltip--meal span").text(t.meal),d3.select("#tooltip .tooltip--portion span").text(1e3*e.portion_kg),d3.select("#tooltip .tooltip--ingredient").text(t.label),d3.select("#tooltip .detail--land span").text(parseFloat(e.land_use_m2_per_kg).toFixed(2)),d3.select("#tooltip .detail--gas span").text(parseFloat(e.gas_emissions_kgCO2eq_per_kg).toFixed(2)),d3.select("#tooltip .detail--water span").text(parseFloat(e.water_liters_per_kg).toFixed(2)),d3.select("#tooltip .detail--eutro span").text(parseFloat(e.eutrophying_emissions_kgPO4eq_per_kg).toFixed(2)),d3.select("#tooltip .detail--cost span").text(parseFloat(e.cost_usd_per_kg).toFixed(2)),d3.select("#tooltip").classed("visible",!0)}function hideTooltip(){d3.select("#tooltip").classed("visible",!1)}function showCategoryTooltip(t,e,o){const l=document.getElementById("foodprint").getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft,c=parseInt(l.top)+parseInt(i),a=parseInt(l.left)+parseInt(s);let n,p;document.querySelectorAll(".category-detail").forEach(t=>{t.classList.contains("hidden")||t.classList.add("hidden")}),d3.select("#tooltip-category .category-title ."+t).classed("hidden",!1),d3.select("#tooltip-category .quote").attr("class","tooltip quote"),"index"===t?(n=+d3.select(".index-circle--external").attr("cx"),p=+d3.select(".index-circle--external").attr("cy"),d3.select("#tooltip-category .tooltip--fact").classed("fact-index",!0),d3.select("#tooltip-category .tooltip--fact").append("span").text(indexDefinition1),d3.select("#tooltip-category .tooltip--fact").append("span").text(indexDefinition2),d3.select("#tooltip-category .tooltip--source").text("")):(n=+d3.select(".axis-circle--delimiter--"+t).attr("cx"),p=+d3.select(".axis-circle--delimiter--"+t).attr("cy"),d3.select("#tooltip-category .tooltip--fact").classed("fact-index",!1),d3.select("#tooltip-category .tooltip--fact").text(e),d3.select("#tooltip-category .tooltip--source").text(o));let d=d3.select("#tooltip-category .tooltip--container").style("height");d=+d.substring(0,d.length-2),d3.select("#tooltip-category").classed("visible",!0).style("top",c+p+d/2+"px").style("left",a+n+"px").transition().duration(0).style("opacity",1)}function hideCategoryTooltip(){category="",document.querySelectorAll("#tooltip-category .category-detail").forEach(t=>{t.classList.contains("hidden")||(category=t.classList[1])}),d3.select("#tooltip-category").classed("visible",!1).style("top","-1000px").style("left","-1000px").transition().duration(100).style("opacity",0),d3.select("#tooltip-category .category-title ."+category).classed("hidden",!0),d3.select(".axis-circles--"+category).classed("active-tooltip",!1)}d3.select("#tooltip-category .close").on("click",t=>{hideCategoryTooltip()}),d3.select("#tooltip .tooltip--toggle").on("click",()=>{tooltipToggle=document.querySelector("#tooltip .tooltip--toggle"),tooltipContent=document.querySelector("#tooltip .tooltip--content"),tooltipContent.classList.contains("close")?(tooltipToggle.classList.remove("closed"),tooltipContent.classList.remove("close")):(tooltipToggle.classList.add("closed"),tooltipContent.classList.add("close"))}),d3.select("#tooltip-swap-impact .tooltip--toggle").on("click",()=>{tooltipToggle=document.querySelector("#tooltip-swap-impact .tooltip--toggle"),tooltipContent=document.querySelector("#tooltip-swap-impact .tooltip--content"),tooltipContent.classList.contains("close")?(tooltipToggle.classList.remove("closed"),tooltipContent.classList.remove("close")):(tooltipToggle.classList.add("closed"),tooltipContent.classList.add("close"))}),d3.select(".mobile-warning .close").on("click",()=>{d3.select(".mobile-warning").classed("closed",!0)});